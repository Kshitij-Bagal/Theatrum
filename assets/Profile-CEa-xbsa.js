import{b as m,c as u,d as j,r,j as e,l as x}from"./index-DwgdhPOQ.js";function g(){var c;const a=m(s=>s.users.user),o=u(),t=j(),[i,d]=r.useState(null),[l,n]=r.useState("videos"),h="https://youtubecloneserver-ro5i.onrender.com";r.useEffect(()=>{a?fetch(`${h}/api/users/${a._id}`).then(s=>s.json()).then(s=>d(s)).catch(s=>console.error("Error fetching profile:",s)):t("/login")},[a,t]);const p=()=>{o(x()),localStorage.removeItem("userToken"),t("/login")};return i?e.jsxs("div",{className:"profile-page",children:[e.jsx("div",{className:"profile-banner",children:e.jsx("img",{src:i.bannerPic||"default-banner.jpg",alt:"Banner"})}),e.jsxs("div",{className:"profile-info",children:[e.jsx("img",{src:i.profilePic||"dp.png",alt:"Profile",className:"profile-pic"}),e.jsxs("div",{className:"profile-details",children:[e.jsx("h2",{children:i.username}),e.jsx("p",{children:i.email}),e.jsxs("p",{children:[((c=i.createdChannels)==null?void 0:c.length)||0," Channels"]})]}),e.jsx("button",{className:"edit-profile-btn",children:"Edit Profile"}),e.jsx("button",{className:"logout-btn",onClick:p,children:"Logout"})]}),e.jsxs("nav",{className:"profile-tabs",children:[e.jsx("button",{className:l==="videos"?"active":"",onClick:()=>n("videos"),children:"Videos"}),e.jsx("button",{className:l==="playlists"?"active":"",onClick:()=>n("playlists"),children:"Playlists"}),e.jsx("button",{className:l==="about"?"active":"",onClick:()=>n("about"),children:"About"})]}),e.jsxs("div",{className:"profile-content",children:[l==="videos"&&e.jsx("div",{className:"video-grid",children:i.favoriteVideos.length>0?i.favoriteVideos.map(s=>e.jsxs("div",{className:"video-card",children:[e.jsx("img",{src:s.thumbnailUrl,alt:s.title}),e.jsx("p",{children:s.title})]},s._id)):e.jsx("p",{children:"No videos uploaded yet."})}),l==="playlists"&&e.jsx("div",{className:"playlist-grid",children:i.likedVideos.length>0?i.likedVideos.map(s=>e.jsxs("div",{className:"video-card",children:[e.jsx("img",{src:s.thumbnailUrl,alt:s.title}),e.jsx("p",{children:s.title})]},s._id)):e.jsx("p",{children:"No playlists created yet."})}),l==="about"&&e.jsxs("div",{className:"about-section",children:[e.jsxs("p",{children:["Email: ",i.email]}),e.jsxs("p",{children:["Joined: ",new Date(i.createdAt).toLocaleDateString()]}),e.jsxs("p",{children:[i.comments.length," Comments Made"]})]})]})]}):e.jsx("p",{children:"Loading..."})}export{g as default};
