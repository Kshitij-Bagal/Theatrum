import{a as p,b as m,c as u,r as n,j as e,l as j}from"./index-d-ClT2-m.js";function f(){var c;const a=p(s=>s.users.user),o=m(),t=u(),[i,d]=n.useState(null),[l,r]=n.useState("videos");n.useEffect(()=>{a?fetch(`https://theatrum-server.onrender.com/api/users/${a._id}`).then(s=>s.json()).then(s=>d(s)).catch(s=>console.error("Error fetching profile:",s)):t("/login")},[a,t]);const h=()=>{o(j()),localStorage.removeItem("userToken"),t("/login")};return i?e.jsxs("div",{className:"profile-page",children:[e.jsx("div",{className:"profile-banner",children:e.jsx("img",{src:i.bannerPic||"default-banner.jpg",alt:"Banner"})}),e.jsxs("div",{className:"profile-info",children:[e.jsx("img",{src:i.profilePic||"dp.png",alt:"Profile",className:"profile-pic"}),e.jsxs("div",{className:"profile-details",children:[e.jsx("h2",{children:i.username}),e.jsx("p",{children:i.email}),e.jsxs("p",{children:[((c=i.createdChannels)==null?void 0:c.length)||0," Channels"]})]}),e.jsx("button",{className:"edit-profile-btn",children:"Edit Profile"}),e.jsx("button",{className:"logout-btn",onClick:h,children:"Logout"})]}),e.jsxs("nav",{className:"profile-tabs",children:[e.jsx("button",{className:l==="videos"?"active":"",onClick:()=>r("videos"),children:"Videos"}),e.jsx("button",{className:l==="playlists"?"active":"",onClick:()=>r("playlists"),children:"Playlists"}),e.jsx("button",{className:l==="about"?"active":"",onClick:()=>r("about"),children:"About"})]}),e.jsxs("div",{className:"profile-content",children:[l==="videos"&&e.jsx("div",{className:"video-grid",children:i.favoriteVideos.length>0?i.favoriteVideos.map(s=>e.jsxs("div",{className:"video-card",children:[e.jsx("img",{src:s.thumbnailUrl,alt:s.title}),e.jsx("p",{children:s.title})]},s._id)):e.jsx("p",{children:"No videos uploaded yet."})}),l==="playlists"&&e.jsx("div",{className:"playlist-grid",children:i.likedVideos.length>0?i.likedVideos.map(s=>e.jsxs("div",{className:"video-card",children:[e.jsx("img",{src:s.thumbnailUrl,alt:s.title}),e.jsx("p",{children:s.title})]},s._id)):e.jsx("p",{children:"No playlists created yet."})}),l==="about"&&e.jsxs("div",{className:"about-section",children:[e.jsxs("p",{children:["Email: ",i.email]}),e.jsxs("p",{children:["Joined: ",new Date(i.createdAt).toLocaleDateString()]}),e.jsxs("p",{children:[i.comments.length," Comments Made"]})]})]})]}):e.jsx("p",{children:"Loading..."})}export{f as default};
