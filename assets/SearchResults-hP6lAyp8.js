import{o as j,r as n,j as s,L as l}from"./index-CQaYZTkb.js";function p(){const i=j(),r=new URLSearchParams(i.search).get("q")||"",o="https://youtubecloneserver-ro5i.onrender.com",[t,d]=n.useState([]),[c,x]=n.useState([]);return n.useEffect(()=>{if(!r)return;(async()=>{try{const h=await(await fetch(`${o}/api/search?q=${r}`)).json();d(h.videos),x(h.channels)}catch(a){console.error("Search fetch error:",a)}})()},[r]),s.jsxs("div",{className:"search-results",children:[s.jsxs("h2",{children:['Search Results for "',r,'"']}),t.length>0&&s.jsxs("div",{children:[s.jsx("h3",{children:"Videos"}),s.jsx("ul",{children:t.map(e=>s.jsx("li",{children:s.jsxs(l,{to:`/${e.channelId}/${e._id}`,children:[s.jsx("img",{src:e.thumbnailUrl,alt:e.title}),s.jsxs("div",{children:[s.jsx("h3",{children:e.title}),s.jsx("p",{children:e.channelName})]})]})},e._id))})]}),c.length>0&&s.jsxs("div",{children:[s.jsx("h3",{children:"Channels"}),s.jsx("ul",{children:c.map(e=>s.jsx("li",{children:s.jsxs(l,{to:`/channel/${e._id}`,children:[s.jsx("img",{src:e.logo,alt:e.name}),s.jsxs("div",{children:[s.jsx("h3",{children:e.name}),s.jsxs("p",{children:[e.subscribers," subscribers"]})]})]})},e._id))})]}),t.length===0&&c.length===0&&s.jsx("p",{children:"No results found."})]})}export{p as default};
